{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"../lib/errors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":15,"column":17,"index":914},"end":{"line":15,"column":41,"index":938}}],"key":"+GSAvg/CWfG2ifOQrWLkai/D9hY=","exportNames":["*"],"imports":1}},{"name":"./StreamDownloadBuilder","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":48,"index":988},"end":{"line":16,"column":82,"index":1022}}],"key":"J2qh5zRhKrS/71C3urjbsL+bmGQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _classCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\").default;\n  var _createClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\").default;\n  var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P ? value : new P(function (resolve) {\n        resolve(value);\n      });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  };\n  var __importDefault = this && this.__importDefault || function (mod) {\n    return mod && mod.__esModule ? mod : {\n      \"default\": mod\n    };\n  };\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var errors_1 = require(_dependencyMap[2], \"../lib/errors\");\n  var StreamDownloadBuilder_1 = __importDefault(require(_dependencyMap[3], \"./StreamDownloadBuilder\"));\n  var BlobDownloadBuilder = /*#__PURE__*/function () {\n    function BlobDownloadBuilder(downloadFn, shouldThrowOnError) {\n      _classCallCheck(this, BlobDownloadBuilder);\n      this.downloadFn = downloadFn;\n      this.shouldThrowOnError = shouldThrowOnError;\n    }\n    return _createClass(BlobDownloadBuilder, [{\n      key: \"asStream\",\n      value: function asStream() {\n        return new StreamDownloadBuilder_1.default(this.downloadFn, this.shouldThrowOnError);\n      }\n    }, {\n      key: \"then\",\n      value: function then(onfulfilled, onrejected) {\n        return this.execute().then(onfulfilled, onrejected);\n      }\n    }, {\n      key: \"execute\",\n      value: function execute() {\n        return __awaiter(this, void 0, void 0, function* () {\n          try {\n            var result = yield this.downloadFn();\n            return {\n              data: yield result.blob(),\n              error: null\n            };\n          } catch (error) {\n            if (this.shouldThrowOnError) {\n              throw error;\n            }\n            if ((0, errors_1.isStorageError)(error)) {\n              return {\n                data: null,\n                error\n              };\n            }\n            throw error;\n          }\n        });\n      }\n    }]);\n  }();\n  exports.default = BlobDownloadBuilder;\n});","lineCount":86,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_classCallCheck"],[4,21,1,13],[4,24,1,13,"require"],[4,31,1,13],[4,32,1,13,"_dependencyMap"],[4,46,1,13],[4,92,1,13,"default"],[4,99,1,13],[5,2,1,13],[5,6,1,13,"_createClass"],[5,18,1,13],[5,21,1,13,"require"],[5,28,1,13],[5,29,1,13,"_dependencyMap"],[5,43,1,13],[5,86,1,13,"default"],[5,93,1,13],[6,2,2,0],[6,6,2,4,"__awaiter"],[6,15,2,13],[6,18,2,17],[6,22,2,21],[6,26,2,25],[6,30,2,29],[6,31,2,30,"__awaiter"],[6,40,2,39],[6,44,2,44],[6,54,2,54,"thisArg"],[6,61,2,61],[6,63,2,63,"_arguments"],[6,73,2,73],[6,75,2,75,"P"],[6,76,2,76],[6,78,2,78,"generator"],[6,87,2,87],[6,89,2,89],[7,4,3,4],[7,13,3,13,"adopt"],[7,18,3,18,"adopt"],[7,19,3,19,"value"],[7,24,3,24],[7,26,3,26],[8,6,3,28],[8,13,3,35,"value"],[8,18,3,40],[8,30,3,52,"P"],[8,31,3,53],[8,34,3,56,"value"],[8,39,3,61],[8,42,3,64],[8,46,3,68,"P"],[8,47,3,69],[8,48,3,70],[8,58,3,80,"resolve"],[8,65,3,87],[8,67,3,89],[9,8,3,91,"resolve"],[9,15,3,98],[9,16,3,99,"value"],[9,21,3,104],[9,22,3,105],[10,6,3,107],[10,7,3,108],[10,8,3,109],[11,4,3,111],[12,4,4,4],[12,11,4,11],[12,16,4,16,"P"],[12,17,4,17],[12,22,4,22,"P"],[12,23,4,23],[12,26,4,26,"Promise"],[12,33,4,33],[12,34,4,34],[12,36,4,36],[12,46,4,46,"resolve"],[12,53,4,53],[12,55,4,55,"reject"],[12,61,4,61],[12,63,4,63],[13,6,5,8],[13,15,5,17,"fulfilled"],[13,24,5,26,"fulfilled"],[13,25,5,27,"value"],[13,30,5,32],[13,32,5,34],[14,8,5,36],[14,12,5,40],[15,10,5,42,"step"],[15,14,5,46],[15,15,5,47,"generator"],[15,24,5,56],[15,25,5,57,"next"],[15,29,5,61],[15,30,5,62,"value"],[15,35,5,67],[15,36,5,68],[15,37,5,69],[16,8,5,71],[16,9,5,72],[16,10,5,73],[16,17,5,80,"e"],[16,18,5,81],[16,20,5,83],[17,10,5,85,"reject"],[17,16,5,91],[17,17,5,92,"e"],[17,18,5,93],[17,19,5,94],[18,8,5,96],[19,6,5,98],[20,6,6,8],[20,15,6,17,"rejected"],[20,23,6,25,"rejected"],[20,24,6,26,"value"],[20,29,6,31],[20,31,6,33],[21,8,6,35],[21,12,6,39],[22,10,6,41,"step"],[22,14,6,45],[22,15,6,46,"generator"],[22,24,6,55],[22,25,6,56],[22,32,6,63],[22,33,6,64],[22,34,6,65,"value"],[22,39,6,70],[22,40,6,71],[22,41,6,72],[23,8,6,74],[23,9,6,75],[23,10,6,76],[23,17,6,83,"e"],[23,18,6,84],[23,20,6,86],[24,10,6,88,"reject"],[24,16,6,94],[24,17,6,95,"e"],[24,18,6,96],[24,19,6,97],[25,8,6,99],[26,6,6,101],[27,6,7,8],[27,15,7,17,"step"],[27,19,7,21,"step"],[27,20,7,22,"result"],[27,26,7,28],[27,28,7,30],[28,8,7,32,"result"],[28,14,7,38],[28,15,7,39,"done"],[28,19,7,43],[28,22,7,46,"resolve"],[28,29,7,53],[28,30,7,54,"result"],[28,36,7,60],[28,37,7,61,"value"],[28,42,7,66],[28,43,7,67],[28,46,7,70,"adopt"],[28,51,7,75],[28,52,7,76,"result"],[28,58,7,82],[28,59,7,83,"value"],[28,64,7,88],[28,65,7,89],[28,66,7,90,"then"],[28,70,7,94],[28,71,7,95,"fulfilled"],[28,80,7,104],[28,82,7,106,"rejected"],[28,90,7,114],[28,91,7,115],[29,6,7,117],[30,6,8,8,"step"],[30,10,8,12],[30,11,8,13],[30,12,8,14,"generator"],[30,21,8,23],[30,24,8,26,"generator"],[30,33,8,35],[30,34,8,36,"apply"],[30,39,8,41],[30,40,8,42,"thisArg"],[30,47,8,49],[30,49,8,51,"_arguments"],[30,59,8,61],[30,63,8,65],[30,65,8,67],[30,66,8,68],[30,68,8,70,"next"],[30,72,8,74],[30,73,8,75],[30,74,8,76],[30,75,8,77],[31,4,9,4],[31,5,9,5],[31,6,9,6],[32,2,10,0],[32,3,10,1],[33,2,11,0],[33,6,11,4,"__importDefault"],[33,21,11,19],[33,24,11,23],[33,28,11,27],[33,32,11,31],[33,36,11,35],[33,37,11,36,"__importDefault"],[33,52,11,51],[33,56,11,56],[33,66,11,66,"mod"],[33,69,11,69],[33,71,11,71],[34,4,12,4],[34,11,12,12,"mod"],[34,14,12,15],[34,18,12,19,"mod"],[34,21,12,22],[34,22,12,23,"__esModule"],[34,32,12,33],[34,35,12,37,"mod"],[34,38,12,40],[34,41,12,43],[35,6,12,45],[35,15,12,54],[35,17,12,56,"mod"],[36,4,12,60],[36,5,12,61],[37,2,13,0],[37,3,13,1],[38,2,14,0,"Object"],[38,8,14,6],[38,9,14,7,"defineProperty"],[38,23,14,21],[38,24,14,22,"exports"],[38,31,14,29],[38,33,14,31],[38,45,14,43],[38,47,14,45],[39,4,14,47,"value"],[39,9,14,52],[39,11,14,54],[40,2,14,59],[40,3,14,60],[40,4,14,61],[41,2,15,0],[41,6,15,6,"errors_1"],[41,14,15,14],[41,17,15,17,"require"],[41,24,15,24],[41,25,15,24,"_dependencyMap"],[41,39,15,24],[41,59,15,40],[41,60,15,41],[42,2,16,0],[42,6,16,6,"StreamDownloadBuilder_1"],[42,29,16,29],[42,32,16,32,"__importDefault"],[42,47,16,47],[42,48,16,48,"require"],[42,55,16,55],[42,56,16,55,"_dependencyMap"],[42,70,16,55],[42,100,16,81],[42,101,16,82],[42,102,16,83],[43,2,16,84],[43,6,17,6,"BlobDownloadBuilder"],[43,25,17,25],[44,4,18,4],[44,13,18,4,"BlobDownloadBuilder"],[44,33,18,16,"downloadFn"],[44,43,18,26],[44,45,18,28,"shouldThrowOnError"],[44,63,18,46],[44,65,18,48],[45,6,18,48,"_classCallCheck"],[45,21,18,48],[45,28,18,48,"BlobDownloadBuilder"],[45,47,18,48],[46,6,19,8],[46,10,19,12],[46,11,19,13,"downloadFn"],[46,21,19,23],[46,24,19,26,"downloadFn"],[46,34,19,36],[47,6,20,8],[47,10,20,12],[47,11,20,13,"shouldThrowOnError"],[47,29,20,31],[47,32,20,34,"shouldThrowOnError"],[47,50,20,52],[48,4,21,4],[49,4,21,5],[49,11,21,5,"_createClass"],[49,23,21,5],[49,24,21,5,"BlobDownloadBuilder"],[49,43,21,5],[50,6,21,5,"key"],[50,9,21,5],[51,6,21,5,"value"],[51,11,21,5],[51,13,22,4],[51,22,22,4,"asStream"],[51,30,22,12,"asStream"],[51,31,22,12],[51,33,22,15],[52,8,23,8],[52,15,23,15],[52,19,23,19,"StreamDownloadBuilder_1"],[52,42,23,42],[52,43,23,43,"default"],[52,50,23,50],[52,51,23,51],[52,55,23,55],[52,56,23,56,"downloadFn"],[52,66,23,66],[52,68,23,68],[52,72,23,72],[52,73,23,73,"shouldThrowOnError"],[52,91,23,91],[52,92,23,92],[53,6,24,4],[54,4,24,5],[55,6,24,5,"key"],[55,9,24,5],[56,6,24,5,"value"],[56,11,24,5],[56,13,25,4],[56,22,25,4,"then"],[56,26,25,8,"then"],[56,27,25,9,"onfulfilled"],[56,38,25,20],[56,40,25,22,"onrejected"],[56,50,25,32],[56,52,25,34],[57,8,26,8],[57,15,26,15],[57,19,26,19],[57,20,26,20,"execute"],[57,27,26,27],[57,28,26,28],[57,29,26,29],[57,30,26,30,"then"],[57,34,26,34],[57,35,26,35,"onfulfilled"],[57,46,26,46],[57,48,26,48,"onrejected"],[57,58,26,58],[57,59,26,59],[58,6,27,4],[59,4,27,5],[60,6,27,5,"key"],[60,9,27,5],[61,6,27,5,"value"],[61,11,27,5],[61,13,28,4],[61,22,28,4,"execute"],[61,29,28,11,"execute"],[61,30,28,11],[61,32,28,14],[62,8,29,8],[62,15,29,15,"__awaiter"],[62,24,29,24],[62,25,29,25],[62,29,29,29],[62,31,29,31],[62,36,29,36],[62,37,29,37],[62,39,29,39],[62,44,29,44],[62,45,29,45],[62,47,29,47],[62,60,29,60],[63,10,30,12],[63,14,30,16],[64,12,31,16],[64,16,31,22,"result"],[64,22,31,28],[64,25,31,31],[64,31,31,37],[64,35,31,41],[64,36,31,42,"downloadFn"],[64,46,31,52],[64,47,31,53],[64,48,31,54],[65,12,32,16],[65,19,32,23],[66,14,33,20,"data"],[66,18,33,24],[66,20,33,26],[66,26,33,32,"result"],[66,32,33,38],[66,33,33,39,"blob"],[66,37,33,43],[66,38,33,44],[66,39,33,45],[67,14,34,20,"error"],[67,19,34,25],[67,21,34,27],[68,12,35,16],[68,13,35,17],[69,10,36,12],[69,11,36,13],[69,12,37,12],[69,19,37,19,"error"],[69,24,37,24],[69,26,37,26],[70,12,38,16],[70,16,38,20],[70,20,38,24],[70,21,38,25,"shouldThrowOnError"],[70,39,38,43],[70,41,38,45],[71,14,39,20],[71,20,39,26,"error"],[71,25,39,31],[72,12,40,16],[73,12,41,16],[73,16,41,20],[73,17,41,21],[73,18,41,22],[73,20,41,24,"errors_1"],[73,28,41,32],[73,29,41,33,"isStorageError"],[73,43,41,47],[73,45,41,49,"error"],[73,50,41,54],[73,51,41,55],[73,53,41,57],[74,14,42,20],[74,21,42,27],[75,16,42,29,"data"],[75,20,42,33],[75,22,42,35],[75,26,42,39],[76,16,42,41,"error"],[77,14,42,47],[77,15,42,48],[78,12,43,16],[79,12,44,16],[79,18,44,22,"error"],[79,23,44,27],[80,10,45,12],[81,8,46,8],[81,9,46,9],[81,10,46,10],[82,6,47,4],[83,4,47,5],[84,2,47,5],[85,2,49,0,"exports"],[85,9,49,7],[85,10,49,8,"default"],[85,17,49,15],[85,20,49,18,"BlobDownloadBuilder"],[85,39,49,37],[86,0,49,38],[86,3]],"functionMap":{"names":["<global>","<anonymous>","adopt","P$argument_0","fulfilled","rejected","step","BlobDownloadBuilder","constructor","asStream","then","execute","__awaiter$argument_3"],"mappings":"AAA;4CCC;ICC,kEC,sCD,ID;QGE,2FH;QIC,8FJ;QKC,8GL;CDG;wDCC;CDE;AOI;ICC;KDG;IEC;KFE;IGC;KHE;IIC;+CCC;SDiB;KJC;CPC"},"hasCjsExports":true},"type":"js/module"}]}