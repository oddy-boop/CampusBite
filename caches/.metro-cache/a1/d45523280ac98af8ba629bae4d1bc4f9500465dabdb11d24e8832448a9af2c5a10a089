{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"../lib/errors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":17,"index":775},"end":{"line":12,"column":41,"index":799}}],"key":"+GSAvg/CWfG2ifOQrWLkai/D9hY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _classCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\").default;\n  var _createClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\").default;\n  var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P ? value : new P(function (resolve) {\n        resolve(value);\n      });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  };\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var errors_1 = require(_dependencyMap[2], \"../lib/errors\");\n  var StreamDownloadBuilder = /*#__PURE__*/function () {\n    function StreamDownloadBuilder(downloadFn, shouldThrowOnError) {\n      _classCallCheck(this, StreamDownloadBuilder);\n      this.downloadFn = downloadFn;\n      this.shouldThrowOnError = shouldThrowOnError;\n    }\n    return _createClass(StreamDownloadBuilder, [{\n      key: \"then\",\n      value: function then(onfulfilled, onrejected) {\n        return this.execute().then(onfulfilled, onrejected);\n      }\n    }, {\n      key: \"execute\",\n      value: function execute() {\n        return __awaiter(this, void 0, void 0, function* () {\n          try {\n            var result = yield this.downloadFn();\n            return {\n              data: result.body,\n              error: null\n            };\n          } catch (error) {\n            if (this.shouldThrowOnError) {\n              throw error;\n            }\n            if ((0, errors_1.isStorageError)(error)) {\n              return {\n                data: null,\n                error\n              };\n            }\n            throw error;\n          }\n        });\n      }\n    }]);\n  }();\n  exports.default = StreamDownloadBuilder;\n});","lineCount":75,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_classCallCheck"],[4,21,1,13],[4,24,1,13,"require"],[4,31,1,13],[4,32,1,13,"_dependencyMap"],[4,46,1,13],[4,92,1,13,"default"],[4,99,1,13],[5,2,1,13],[5,6,1,13,"_createClass"],[5,18,1,13],[5,21,1,13,"require"],[5,28,1,13],[5,29,1,13,"_dependencyMap"],[5,43,1,13],[5,86,1,13,"default"],[5,93,1,13],[6,2,2,0],[6,6,2,4,"__awaiter"],[6,15,2,13],[6,18,2,17],[6,22,2,21],[6,26,2,25],[6,30,2,29],[6,31,2,30,"__awaiter"],[6,40,2,39],[6,44,2,44],[6,54,2,54,"thisArg"],[6,61,2,61],[6,63,2,63,"_arguments"],[6,73,2,73],[6,75,2,75,"P"],[6,76,2,76],[6,78,2,78,"generator"],[6,87,2,87],[6,89,2,89],[7,4,3,4],[7,13,3,13,"adopt"],[7,18,3,18,"adopt"],[7,19,3,19,"value"],[7,24,3,24],[7,26,3,26],[8,6,3,28],[8,13,3,35,"value"],[8,18,3,40],[8,30,3,52,"P"],[8,31,3,53],[8,34,3,56,"value"],[8,39,3,61],[8,42,3,64],[8,46,3,68,"P"],[8,47,3,69],[8,48,3,70],[8,58,3,80,"resolve"],[8,65,3,87],[8,67,3,89],[9,8,3,91,"resolve"],[9,15,3,98],[9,16,3,99,"value"],[9,21,3,104],[9,22,3,105],[10,6,3,107],[10,7,3,108],[10,8,3,109],[11,4,3,111],[12,4,4,4],[12,11,4,11],[12,16,4,16,"P"],[12,17,4,17],[12,22,4,22,"P"],[12,23,4,23],[12,26,4,26,"Promise"],[12,33,4,33],[12,34,4,34],[12,36,4,36],[12,46,4,46,"resolve"],[12,53,4,53],[12,55,4,55,"reject"],[12,61,4,61],[12,63,4,63],[13,6,5,8],[13,15,5,17,"fulfilled"],[13,24,5,26,"fulfilled"],[13,25,5,27,"value"],[13,30,5,32],[13,32,5,34],[14,8,5,36],[14,12,5,40],[15,10,5,42,"step"],[15,14,5,46],[15,15,5,47,"generator"],[15,24,5,56],[15,25,5,57,"next"],[15,29,5,61],[15,30,5,62,"value"],[15,35,5,67],[15,36,5,68],[15,37,5,69],[16,8,5,71],[16,9,5,72],[16,10,5,73],[16,17,5,80,"e"],[16,18,5,81],[16,20,5,83],[17,10,5,85,"reject"],[17,16,5,91],[17,17,5,92,"e"],[17,18,5,93],[17,19,5,94],[18,8,5,96],[19,6,5,98],[20,6,6,8],[20,15,6,17,"rejected"],[20,23,6,25,"rejected"],[20,24,6,26,"value"],[20,29,6,31],[20,31,6,33],[21,8,6,35],[21,12,6,39],[22,10,6,41,"step"],[22,14,6,45],[22,15,6,46,"generator"],[22,24,6,55],[22,25,6,56],[22,32,6,63],[22,33,6,64],[22,34,6,65,"value"],[22,39,6,70],[22,40,6,71],[22,41,6,72],[23,8,6,74],[23,9,6,75],[23,10,6,76],[23,17,6,83,"e"],[23,18,6,84],[23,20,6,86],[24,10,6,88,"reject"],[24,16,6,94],[24,17,6,95,"e"],[24,18,6,96],[24,19,6,97],[25,8,6,99],[26,6,6,101],[27,6,7,8],[27,15,7,17,"step"],[27,19,7,21,"step"],[27,20,7,22,"result"],[27,26,7,28],[27,28,7,30],[28,8,7,32,"result"],[28,14,7,38],[28,15,7,39,"done"],[28,19,7,43],[28,22,7,46,"resolve"],[28,29,7,53],[28,30,7,54,"result"],[28,36,7,60],[28,37,7,61,"value"],[28,42,7,66],[28,43,7,67],[28,46,7,70,"adopt"],[28,51,7,75],[28,52,7,76,"result"],[28,58,7,82],[28,59,7,83,"value"],[28,64,7,88],[28,65,7,89],[28,66,7,90,"then"],[28,70,7,94],[28,71,7,95,"fulfilled"],[28,80,7,104],[28,82,7,106,"rejected"],[28,90,7,114],[28,91,7,115],[29,6,7,117],[30,6,8,8,"step"],[30,10,8,12],[30,11,8,13],[30,12,8,14,"generator"],[30,21,8,23],[30,24,8,26,"generator"],[30,33,8,35],[30,34,8,36,"apply"],[30,39,8,41],[30,40,8,42,"thisArg"],[30,47,8,49],[30,49,8,51,"_arguments"],[30,59,8,61],[30,63,8,65],[30,65,8,67],[30,66,8,68],[30,68,8,70,"next"],[30,72,8,74],[30,73,8,75],[30,74,8,76],[30,75,8,77],[31,4,9,4],[31,5,9,5],[31,6,9,6],[32,2,10,0],[32,3,10,1],[33,2,11,0,"Object"],[33,8,11,6],[33,9,11,7,"defineProperty"],[33,23,11,21],[33,24,11,22,"exports"],[33,31,11,29],[33,33,11,31],[33,45,11,43],[33,47,11,45],[34,4,11,47,"value"],[34,9,11,52],[34,11,11,54],[35,2,11,59],[35,3,11,60],[35,4,11,61],[36,2,12,0],[36,6,12,6,"errors_1"],[36,14,12,14],[36,17,12,17,"require"],[36,24,12,24],[36,25,12,24,"_dependencyMap"],[36,39,12,24],[36,59,12,40],[36,60,12,41],[37,2,12,42],[37,6,13,6,"StreamDownloadBuilder"],[37,27,13,27],[38,4,14,4],[38,13,14,4,"StreamDownloadBuilder"],[38,35,14,16,"downloadFn"],[38,45,14,26],[38,47,14,28,"shouldThrowOnError"],[38,65,14,46],[38,67,14,48],[39,6,14,48,"_classCallCheck"],[39,21,14,48],[39,28,14,48,"StreamDownloadBuilder"],[39,49,14,48],[40,6,15,8],[40,10,15,12],[40,11,15,13,"downloadFn"],[40,21,15,23],[40,24,15,26,"downloadFn"],[40,34,15,36],[41,6,16,8],[41,10,16,12],[41,11,16,13,"shouldThrowOnError"],[41,29,16,31],[41,32,16,34,"shouldThrowOnError"],[41,50,16,52],[42,4,17,4],[43,4,17,5],[43,11,17,5,"_createClass"],[43,23,17,5],[43,24,17,5,"StreamDownloadBuilder"],[43,45,17,5],[44,6,17,5,"key"],[44,9,17,5],[45,6,17,5,"value"],[45,11,17,5],[45,13,18,4],[45,22,18,4,"then"],[45,26,18,8,"then"],[45,27,18,9,"onfulfilled"],[45,38,18,20],[45,40,18,22,"onrejected"],[45,50,18,32],[45,52,18,34],[46,8,19,8],[46,15,19,15],[46,19,19,19],[46,20,19,20,"execute"],[46,27,19,27],[46,28,19,28],[46,29,19,29],[46,30,19,30,"then"],[46,34,19,34],[46,35,19,35,"onfulfilled"],[46,46,19,46],[46,48,19,48,"onrejected"],[46,58,19,58],[46,59,19,59],[47,6,20,4],[48,4,20,5],[49,6,20,5,"key"],[49,9,20,5],[50,6,20,5,"value"],[50,11,20,5],[50,13,21,4],[50,22,21,4,"execute"],[50,29,21,11,"execute"],[50,30,21,11],[50,32,21,14],[51,8,22,8],[51,15,22,15,"__awaiter"],[51,24,22,24],[51,25,22,25],[51,29,22,29],[51,31,22,31],[51,36,22,36],[51,37,22,37],[51,39,22,39],[51,44,22,44],[51,45,22,45],[51,47,22,47],[51,60,22,60],[52,10,23,12],[52,14,23,16],[53,12,24,16],[53,16,24,22,"result"],[53,22,24,28],[53,25,24,31],[53,31,24,37],[53,35,24,41],[53,36,24,42,"downloadFn"],[53,46,24,52],[53,47,24,53],[53,48,24,54],[54,12,25,16],[54,19,25,23],[55,14,26,20,"data"],[55,18,26,24],[55,20,26,26,"result"],[55,26,26,32],[55,27,26,33,"body"],[55,31,26,37],[56,14,27,20,"error"],[56,19,27,25],[56,21,27,27],[57,12,28,16],[57,13,28,17],[58,10,29,12],[58,11,29,13],[58,12,30,12],[58,19,30,19,"error"],[58,24,30,24],[58,26,30,26],[59,12,31,16],[59,16,31,20],[59,20,31,24],[59,21,31,25,"shouldThrowOnError"],[59,39,31,43],[59,41,31,45],[60,14,32,20],[60,20,32,26,"error"],[60,25,32,31],[61,12,33,16],[62,12,34,16],[62,16,34,20],[62,17,34,21],[62,18,34,22],[62,20,34,24,"errors_1"],[62,28,34,32],[62,29,34,33,"isStorageError"],[62,43,34,47],[62,45,34,49,"error"],[62,50,34,54],[62,51,34,55],[62,53,34,57],[63,14,35,20],[63,21,35,27],[64,16,35,29,"data"],[64,20,35,33],[64,22,35,35],[64,26,35,39],[65,16,35,41,"error"],[66,14,35,47],[66,15,35,48],[67,12,36,16],[68,12,37,16],[68,18,37,22,"error"],[68,23,37,27],[69,10,38,12],[70,8,39,8],[70,9,39,9],[70,10,39,10],[71,6,40,4],[72,4,40,5],[73,2,40,5],[74,2,42,0,"exports"],[74,9,42,7],[74,10,42,8,"default"],[74,17,42,15],[74,20,42,18,"StreamDownloadBuilder"],[74,41,42,39],[75,0,42,40],[75,3]],"functionMap":{"names":["<global>","<anonymous>","adopt","P$argument_0","fulfilled","rejected","step","StreamDownloadBuilder","constructor","then","execute","__awaiter$argument_3"],"mappings":"AAA;4CCC;ICC,kEC,sCD,ID;QGE,2FH;QIC,8FJ;QKC,8GL;CDG;AOG;ICC;KDG;IEC;KFE;IGC;+CCC;SDiB;KHC;CPC"},"hasCjsExports":true},"type":"js/module"}]}